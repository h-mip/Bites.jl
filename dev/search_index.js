var documenterSearchIndex = {"docs":
[{"location":"","page":"Home","title":"Home","text":"CurrentModule = Bites","category":"page"},{"location":"#Bites","page":"Home","title":"Bites","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"(Image: DOI)","category":"page"},{"location":"","page":"Home","title":"Home","text":"Bites is a Julia package for analyzing mosquito-host biting networks. In addition to bipartite mosquito-host models, Bites now supports quadripartite simulations with birds, mosquitoes, humans, and horses, suitable for West Nile Virus (WNV) transmission modeling. The package includes features for simulating incubation periods, customizing mosquito->human targeting weights, and an optional bite-decay variant that reduces a mosquito’s chance of additional bites within a gonotrophic cycle across all host types.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Bites.jl was developed as part of the Host-Mosquito Interaction Project (H-MIP), funded by the European Research Council (ERC) under the European Union's Horizon 2020 research and innovation programme (Grant agreement No. 853271). The quadripartite network components used for West Nile Virus modeling were added as part of the E4Warning project (Eco-Epidemiological Intelligence for early Warning and response to mosquito-borne disease risk in Endemic and Emergence settings) funded by the European Union's Horizon Europe programme under Grant Agreement 101086640.","category":"page"},{"location":"#Quick-start","page":"Home","title":"Quick start","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using Bites, Random\n\n# simple bipartite example\nn_steps = 50\nn_humans = 12\nn_mosquitoes = 60\nhuman_probs = fill(1 / n_mosquitoes, n_humans)\nmosquito_probs = fill(1 / n_humans, n_mosquitoes)\nmosq_ts, hum_ts, hum_rec = bite_steps(n_steps, n_humans, n_mosquitoes, 4, 20, human_probs, mosquito_probs, 0.35)\n\n# quadripartite example\nbird_probs = fill(0.8, 5_000)\nhorse_probs = fill(0.6, 300)\nmosq_ts, bird_ts, hum_ts, horse_ts, bird_rec, hum_rec, horse_rec = bite_steps_quad(\n\t50, 5_000, 5_000, 100, 300, 4, 5, 5, 20,\n\tbird_probs, mosquito_probs, human_probs, horse_probs,\n\t0.4, 0.6, 0.25, 0.2;\n\tseed_birds=1,\n)","category":"page"},{"location":"#Incubation-and-human-targeting","page":"Home","title":"Incubation and human targeting","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Birds and mosquitoes now pass through a latent/incubation period before becoming infectious. Control durations with bird_incubation_time and mosquito_incubation_time (defaults 10 and 4). Latent individuals are counted in the infection timeseries but do not transmit until their timers expire.\nHuman bite weight can be customized via human_prob (scalar or vector). This weight is normalized against bird and horse weights so you can emphasize/de-emphasize humans without changing other host probabilities. Leaving it nothing preserves the previous behavior.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Example with explicit incubation and human weighting:","category":"page"},{"location":"","page":"Home","title":"Home","text":"mosq_ts, bird_ts, hum_ts, horse_ts, bird_rec, hum_rec, horse_rec = bite_steps_quad(\n\t60, 5_000, 5_000, 1_000, 3_000, 4, 5, 5, 20,\n\tbird_probs, mosquito_probs, human_probs, horse_probs,\n\t0.3, 0.4, 0.25, 0.2;\n\tbird_incubation_time=8,\n\tmosquito_incubation_time=4,\n\thuman_prob=0.5,\n\tseed_birds=1,\n)","category":"page"},{"location":"#New:-bite-decay-variant-(non-breaking)","page":"Home","title":"New: bite decay variant (non-breaking)","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"bite_steps_quad_decay is an optional quadripartite variant that tapers each mosquito’s chance of taking additional bites within a gonotrophic cycle. Decay is per mosquito and applies across hosts: every successful bite (bird/human/horse) lowers the probability of the next bite attempt in that cycle. Hosts are shuffled each step to avoid ordering bias. Existing functions remain unchanged.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Key parameters:","category":"page"},{"location":"","page":"Home","title":"Home","text":"gonotrophic_length (Int, default 4): interprets steps as days; shorter length implies more bite opportunities per day.\nbite_decay (Float64, default 0.2): per-bite multiplier applied after each successful bite; smaller values reduce the chance of second/third bites.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Notes:","category":"page"},{"location":"","page":"Home","title":"Home","text":"Base bite rates are taken from the first element of each *_probs vector (uniform within host type) in this variant.\nhuman_prob weighting is only used in bite_steps_quad; the decay variant uses the per-host-type probabilities directly.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Example:","category":"page"},{"location":"","page":"Home","title":"Home","text":"mosq_ts, bird_ts, hum_ts, horse_ts, bird_rec, hum_rec, horse_rec = bite_steps_quad_decay(\n\t200, 5_000, 5_000, 1_000, 3_000, 4, 5, 5, 20,\n\tbird_probs, mosquito_probs, human_probs, horse_probs,\n\t0.3, 0.4, 0.25, 0.2;\n\tseed_birds=1,\n\tgonotrophic_length=4,\n\tbite_decay=0.2,\n)","category":"page"},{"location":"#Probability-generation-and-R","page":"Home","title":"Probability generation and R₀","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"distribute_bite_probabilities(D1, D2, N1, N2, expected_bites) to draw human/mosquito bite propensities from distributions in Distributions.jl and scale to a target expected bites.\ncalculate_r0(n_reps, infection_ts, seed_cases) computes mean R₀ and per-rep R₀ series from infection time series.","category":"page"},{"location":"#API-reference","page":"Home","title":"API reference","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"bite_steps\nbite_steps_quad\nbite_steps_quad_decay\ndistribute_bite_probabilities\ncalculate_r0","category":"page"},{"location":"#Bites.bite_steps","page":"Home","title":"Bites.bite_steps","text":"bite_steps(n_steps::Int64, n_humans::Int64, n_mosquitoes::Int64, human_infection_time::Int64, mosquito_life_span::Int64, human_probs::Array{Float64, 1}, mosquito_probs::Array{Float64, 1}, transmission_prob::Float64)::Tuple{Array{Int64, 1}, Array{Int64, 1}, Array{Int64, 1}}\n\nReturns a Tuple containing (1) an array with number of infected mosquitoes at each time step, (2) an array with number of infected humans at each time step, and (3) an array with number of recovered humans at each time step.\n\n\n\n\n\n","category":"function"},{"location":"#Bites.bite_steps_quad","page":"Home","title":"Bites.bite_steps_quad","text":"bitestepsquad(     nsteps::Int64,     nbirds::Int64,     nmosquitoes::Int64,     nhumans::Int64,     nhorses::Int64,     birdinfectiontime::Int64,     humaninfectiontime::Int64,     horseinfectiontime::Int64,     mosquitolifespan::Int64,     birdprobs::Array{Float64, 1},     mosquitoprobs::Array{Float64, 1},     humanprobs::Array{Float64, 1},     horseprobs::Array{Float64, 1},     pbirdtomosquito::Float64,     pmosquitotobird::Float64,     pmosquitotohuman::Float64,     pmosquitotohorse::Float64;     seedbirds::Int=1,     seedmosquitoes::Int=0,     seedhumans::Int=0,     seedhorses::Int=0,     birdincubationtime::Int=10,     mosquitoincubationtime::Int=4,     humanprob::Union{Float64, AbstractVector{<:Float64}, Nothing}=nothing,   )\n\nSimulates a quadripartite West Nile–style system with birds (reservoir), mosquitoes (vector), and dead-end hosts (humans and horses). Newly infected birds and mosquitoes enter a latent state for bird_incubation_time or mosquito_incubation_time steps before becoming infectious; infectious duration then follows the respective *_infection_time. Optionally weight humans via human_prob (scalar or per-human vector) when normalizing mosquito target selection across bird/human/horse hosts. Returns a tuple of infection and recovery time series ordered as (mosquitoinfections, birdinfections, humaninfections, horseinfections, birdrecovered, humanrecovered, horse_recovered).\n\n\n\n\n\n","category":"function"},{"location":"#Bites.bite_steps_quad_decay","page":"Home","title":"Bites.bite_steps_quad_decay","text":"bitestepsquaddecay(     nsteps::Int64,     nbirds::Int64,     nmosquitoes::Int64,     nhumans::Int64,     nhorses::Int64,     birdinfectiontime::Int64,     humaninfectiontime::Int64,     horseinfectiontime::Int64,     mosquitolifespan::Int64,     birdprobs::Array{Float64, 1},     mosquitoprobs::Array{Float64, 1},     humanprobs::Array{Float64, 1},     horseprobs::Array{Float64, 1},     pbirdtomosquito::Float64,     pmosquitotobird::Float64,     pmosquitotohuman::Float64,     pmosquitotohorse::Float64;     seedbirds::Int=1,     seedmosquitoes::Int=0,     seedhumans::Int=0,     seedhorses::Int=0,     gonotrophiclength::Int=4,     bitedecay::Float64=0.2,     collectbitecounts::Bool=false,     bitecyclecounts::Dict{Int, Int}=Dict{Int, Int}(),     networkedges::Union{Nothing, Vector{NamedTuple{(:step, :mosquito, :targettype, :target, :success), Tuple{Int, Int, Symbol, Int, Bool}}}}=nothing,     birdincubationtime::Int=10,     mosquitoincubationtime::Int=4,     human_prob::Union{Float64, AbstractVector{<:Float64}, Nothing}=nothing,   )\n\nOptional logging: set collect_bite_counts=true and pass a Dict{Int,Int} via bite_cycle_counts to accumulate a histogram of bites per mosquito gonotrophic cycle. Provide network_edges as a vector of named tuples to capture bite edges for visualization; leave at nothing to avoid overhead. Each logged edge includes success::Bool to indicate whether transmission occurred. Birds and mosquitoes now incubate in a latent state for the given incubation times before becoming infectious; infectious duration still follows bird_infection_time for birds (mosquitoes remain infectious until death). Note: The human_prob parameter is accepted for API compatibility but not currently used in this function; use human_probs to control per-human bite rates. The function returns an eighth value: total mosquitoes ever infected (slot-level) over the run, useful for cumulative AR.\n\n\n\n\n\n","category":"function"},{"location":"#Bites.distribute_bite_probabilities","page":"Home","title":"Bites.distribute_bite_probabilities","text":"distribute_bite_probabilities(D1, D2, N1::Int64, N2::Int64, expected_bites::Float64)::Tuple{Array{Float64, 1}, Array{Float64, 1}}\n\nReturns a Tuple containing (1) per mosquito probabilities of being bitten for each person, and (2) per person probabilities of biting for each mosquito, with the per mosquito probabilities of being bitten for each person adjusted to the desired expected bites value.\n\nParameters\n\nD1 The distribution from which the human probabilities of being bitten should be drawn. A distribution from the Distributions.jl package. \nD2 The distribution from which the mosquito probabilities of biting should be drawn. A distribution from the Distributions.jl package. \nN1 The number of humans in the population. Int64.\nN2 The number of mosquitoes in the population. Int64.\nexpected_bites The expected number of total bites (total links in the bipartite network). Float64.\n\n\n\n\n\n","category":"function"},{"location":"#Bites.calculate_r0","page":"Home","title":"Bites.calculate_r0","text":"  calculate_r0(n_reps::Int64, infection_ts::Array{Int64,2}, seed_cases::Int64)\n\nReturns a named Tuple containing (1) R0 (mean of reps), (2) R0 for each repetition, (3) mean R0 for successive numbers of repetitions.\n\nParameters\n\nn_reps The number of repetitions in the simulation. Int64. \ninfection_ts The matrix time series of number of infected cases at each time step. A two-dimensional array of Int64 with dimensions equal to number of repetitions and number of time steps.\nseed_cases Number of infected cases seeded into the population at the beginning of each repetition. If seed_cases=0, then the first cases will be detected in the data. (For example, if we seed 1 infected human case into the population, then we would use seed_cases=1 for the human R0 and seed_cases=0 for the mosquito R0.)\n\n\n\n\n\n","category":"function"},{"location":"","page":"Home","title":"Home","text":"","category":"page"},{"location":"","page":"Home","title":"Home","text":"Modules = [Bites]","category":"page"},{"location":"#Bites.bite_steps-Tuple{Int64, Int64, Int64, Int64, Int64, Vector{Float64}, Vector{Float64}, Float64}","page":"Home","title":"Bites.bite_steps","text":"bite_steps(n_steps::Int64, n_humans::Int64, n_mosquitoes::Int64, human_infection_time::Int64, mosquito_life_span::Int64, human_probs::Array{Float64, 1}, mosquito_probs::Array{Float64, 1}, transmission_prob::Float64)::Tuple{Array{Int64, 1}, Array{Int64, 1}, Array{Int64, 1}}\n\nReturns a Tuple containing (1) an array with number of infected mosquitoes at each time step, (2) an array with number of infected humans at each time step, and (3) an array with number of recovered humans at each time step.\n\n\n\n\n\n","category":"method"},{"location":"#Bites.bite_steps_quad-Tuple{Int64, Int64, Int64, Int64, Int64, Int64, Int64, Int64, Int64, Vector{Float64}, Vector{Float64}, Vector{Float64}, Vector{Float64}, Vararg{Float64, 4}}","page":"Home","title":"Bites.bite_steps_quad","text":"bitestepsquad(     nsteps::Int64,     nbirds::Int64,     nmosquitoes::Int64,     nhumans::Int64,     nhorses::Int64,     birdinfectiontime::Int64,     humaninfectiontime::Int64,     horseinfectiontime::Int64,     mosquitolifespan::Int64,     birdprobs::Array{Float64, 1},     mosquitoprobs::Array{Float64, 1},     humanprobs::Array{Float64, 1},     horseprobs::Array{Float64, 1},     pbirdtomosquito::Float64,     pmosquitotobird::Float64,     pmosquitotohuman::Float64,     pmosquitotohorse::Float64;     seedbirds::Int=1,     seedmosquitoes::Int=0,     seedhumans::Int=0,     seedhorses::Int=0,     birdincubationtime::Int=10,     mosquitoincubationtime::Int=4,     humanprob::Union{Float64, AbstractVector{<:Float64}, Nothing}=nothing,   )\n\nSimulates a quadripartite West Nile–style system with birds (reservoir), mosquitoes (vector), and dead-end hosts (humans and horses). Newly infected birds and mosquitoes enter a latent state for bird_incubation_time or mosquito_incubation_time steps before becoming infectious; infectious duration then follows the respective *_infection_time. Optionally weight humans via human_prob (scalar or per-human vector) when normalizing mosquito target selection across bird/human/horse hosts. Returns a tuple of infection and recovery time series ordered as (mosquitoinfections, birdinfections, humaninfections, horseinfections, birdrecovered, humanrecovered, horse_recovered).\n\n\n\n\n\n","category":"method"},{"location":"#Bites.bite_steps_quad_decay-Tuple{Int64, Int64, Int64, Int64, Int64, Int64, Int64, Int64, Int64, Vector{Float64}, Vector{Float64}, Vector{Float64}, Vector{Float64}, Vararg{Float64, 4}}","page":"Home","title":"Bites.bite_steps_quad_decay","text":"bitestepsquaddecay(     nsteps::Int64,     nbirds::Int64,     nmosquitoes::Int64,     nhumans::Int64,     nhorses::Int64,     birdinfectiontime::Int64,     humaninfectiontime::Int64,     horseinfectiontime::Int64,     mosquitolifespan::Int64,     birdprobs::Array{Float64, 1},     mosquitoprobs::Array{Float64, 1},     humanprobs::Array{Float64, 1},     horseprobs::Array{Float64, 1},     pbirdtomosquito::Float64,     pmosquitotobird::Float64,     pmosquitotohuman::Float64,     pmosquitotohorse::Float64;     seedbirds::Int=1,     seedmosquitoes::Int=0,     seedhumans::Int=0,     seedhorses::Int=0,     gonotrophiclength::Int=4,     bitedecay::Float64=0.2,     collectbitecounts::Bool=false,     bitecyclecounts::Dict{Int, Int}=Dict{Int, Int}(),     networkedges::Union{Nothing, Vector{NamedTuple{(:step, :mosquito, :targettype, :target, :success), Tuple{Int, Int, Symbol, Int, Bool}}}}=nothing,     birdincubationtime::Int=10,     mosquitoincubationtime::Int=4,     human_prob::Union{Float64, AbstractVector{<:Float64}, Nothing}=nothing,   )\n\nOptional logging: set collect_bite_counts=true and pass a Dict{Int,Int} via bite_cycle_counts to accumulate a histogram of bites per mosquito gonotrophic cycle. Provide network_edges as a vector of named tuples to capture bite edges for visualization; leave at nothing to avoid overhead. Each logged edge includes success::Bool to indicate whether transmission occurred. Birds and mosquitoes now incubate in a latent state for the given incubation times before becoming infectious; infectious duration still follows bird_infection_time for birds (mosquitoes remain infectious until death). Note: The human_prob parameter is accepted for API compatibility but not currently used in this function; use human_probs to control per-human bite rates. The function returns an eighth value: total mosquitoes ever infected (slot-level) over the run, useful for cumulative AR.\n\n\n\n\n\n","category":"method"},{"location":"#Bites.calculate_r0-Tuple{Int64, Matrix{Int64}, Int64}","page":"Home","title":"Bites.calculate_r0","text":"  calculate_r0(n_reps::Int64, infection_ts::Array{Int64,2}, seed_cases::Int64)\n\nReturns a named Tuple containing (1) R0 (mean of reps), (2) R0 for each repetition, (3) mean R0 for successive numbers of repetitions.\n\nParameters\n\nn_reps The number of repetitions in the simulation. Int64. \ninfection_ts The matrix time series of number of infected cases at each time step. A two-dimensional array of Int64 with dimensions equal to number of repetitions and number of time steps.\nseed_cases Number of infected cases seeded into the population at the beginning of each repetition. If seed_cases=0, then the first cases will be detected in the data. (For example, if we seed 1 infected human case into the population, then we would use seed_cases=1 for the human R0 and seed_cases=0 for the mosquito R0.)\n\n\n\n\n\n","category":"method"},{"location":"#Bites.distribute_bite_probabilities-Tuple{Any, Any, Int64, Int64, Float64}","page":"Home","title":"Bites.distribute_bite_probabilities","text":"distribute_bite_probabilities(D1, D2, N1::Int64, N2::Int64, expected_bites::Float64)::Tuple{Array{Float64, 1}, Array{Float64, 1}}\n\nReturns a Tuple containing (1) per mosquito probabilities of being bitten for each person, and (2) per person probabilities of biting for each mosquito, with the per mosquito probabilities of being bitten for each person adjusted to the desired expected bites value.\n\nParameters\n\nD1 The distribution from which the human probabilities of being bitten should be drawn. A distribution from the Distributions.jl package. \nD2 The distribution from which the mosquito probabilities of biting should be drawn. A distribution from the Distributions.jl package. \nN1 The number of humans in the population. Int64.\nN2 The number of mosquitoes in the population. Int64.\nexpected_bites The expected number of total bites (total links in the bipartite network). Float64.\n\n\n\n\n\n","category":"method"},{"location":"#Bites.infect-Tuple{Float64, Float64, Float64}","page":"Home","title":"Bites.infect","text":"infect(human_prob::Float64, mosquito_prob::Float64, transmission_prob::Float64)::Bool\n\nDetermines whether a transmission event occurs given the probability of an infected host being bitten, the probability of a susceptible host being bitten, and the transmission probability.\n\nReturns true if transmission occurs, false otherwise.\n\nParameters\n\nhuman_prob - Probability that the human (or other host) is involved in a bite event. Float64.\nmosquito_prob - Probability that the mosquito is involved in a bite event. Float64.\ntransmission_prob - Probability of transmission given a bite event between infected and susceptible individuals. Float64.\n\n\n\n\n\n","category":"method"},{"location":"#Bites.one_way_bites-Tuple{Vector{Float64}, Vector{Float64}, Float64}","page":"Home","title":"Bites.one_way_bites","text":"one_way_bites(infecteds::Array{Float64, 1}, susceptibles::Array{Float64, 1}, transmission_prob::Float64)::Array{Bool, 1}\n\nSimulates one-way transmission from infected individuals to susceptible individuals.\n\nReturns a boolean array indicating which susceptible individuals become infected.\n\nParameters\n\ninfecteds - Array of probabilities for infected individuals. Float64 array.\nsusceptibles - Array of probabilities for susceptible individuals. Float64 array.\ntransmission_prob - Probability of transmission given contact. Float64.\n\n\n\n\n\n","category":"method"},{"location":"#About","page":"Home","title":"About","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Bites.jl was developed as part of the Host-Mosquito Interaction Project (H-MIP), funded by the European Research Council (ERC) under the European Union’s Horizon 2020 research and innovation programme (Grant agreement No. 853271). The quadripartite network components used for West Nile Virus modeling were added as part of the E4Warning project (Eco-Epidemiological Intelligence for early Warning and response to mosquito-borne disease risk in Endemic and Emergence settings) funded by the European Union’s Horizon Europe programme under Grant Agreement 101086640.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Copyright 2021-2025 John R.B. Palmer","category":"page"},{"location":"","page":"Home","title":"Home","text":"Bites.jl is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Bites.jl is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.","category":"page"},{"location":"","page":"Home","title":"Home","text":"You should have received a copy of the GNU General Public License along with this program. If not, see http://www.gnu.org/licenses.","category":"page"}]
}
